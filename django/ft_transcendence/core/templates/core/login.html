{% load static %}
{% load socialaccount %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Zen+Dots&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{% static 'css/main.css' %}">
  <link rel="stylesheet" href="{% static 'core/css/login.css' %}">
  <title>Transcendence</title>
</head>
  <body>
  <!---------- Global container for layout management ---------->
    <div class="login-page">

    <!---------- Background Video ---------->
      <video autoplay muted loop class="video-background">
        <source src="{% static 'core/images/galaxy-background.mp4' %}" type="video/mp4">
        Your browser does not support the video tag.
      </video>

    <!---------- Title ---------->
      <div class="title">
        <h1 class="title--move">CyberPong</h1>
      </div>

    <!---------- Login Buttons ---------->

    <!-- Hidden signin form -->
      <form action="/" method="post" id="signin-form" class="hidden">
        {% csrf_token %}
        {{ form }}
        <input type="submit" value="Submit">
      </form>

    <!-- Hidden signup form -->
      <form action="/signup/" method="post" id="signup-form" class="hidden">
        {% csrf_token %}
        {{ form }}
        <input type="submit" value="Submit">
      </form>

    <!---------- 42 Button - Top button ---------->
      <div class="login-buttons--top">
        <form action="{% provider_login_url 'fortytwo' %}" method="post">
          {% csrf_token %}
          <button type="submit" class="button-group__btn btn-dark buttons-group">Sign in With </button>
        </form>
      </div>
    
    <!---------- Login and Sign Up Button - Bottom Buttons ---------->
      <div class="login-buttons--bottom">
        <button class="buttons-group" id="signin-button">Login</button>
        <button class="buttons-group" id="signup-button">Sign Up </button> 
      </div>

      <!-- Handle multi button-->
        <script>
          // Get all buttons with the "login-button" class
          const loginButtons = document.querySelectorAll('.login-button');

          // Loop through the buttons and add the same click event listener to each
          loginButtons.forEach(button => {
            button.addEventListener('click', function() {
              // Hide all login buttons
                loginButtons.forEach(btn => btn.classList.add('hidden'));
            });
          });
        </script>

      <!-- Handle signin button-->
        <script>
          // JavaScript to handle the button click
          document.getElementById('signin-button').addEventListener('click', function() {
              // Show the login form
              document.getElementById('signin-form').classList.remove('hidden');
          });
        </script>

      <!-- Handle signup button-->
        <script>
          // JavaScript to handle the button click
          document.getElementById('signup-button').addEventListener('click', function() {
              // Show the login form
              document.getElementById('signup-form').classList.remove('hidden');
          });
        </script>
      </div>
    </div>
  </body>
</html>
